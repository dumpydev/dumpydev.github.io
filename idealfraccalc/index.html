<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Ideal Fraction Checker</title>
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="https://dumpyy.gq/idealfraccalc/logo.png"
    />
    <meta property="og:site_name" content="Ideal Fraction Checker" />
    <meta property="og:url" content="https://dumpyy.gq/idealfraccalc" />
    <meta property="og:title" content="Ideal Fraction Checker" />
    <meta
      property="og:description"
      content="Ideal fraction checker! Made by dumpy for math class."
    />
    <script src="./dist/Ratio-0.4.1.js"></script>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css" />
  </head>

  <body>
    <img src="logo.png" alt="logo" class="logo" />
    <h3 class="rainbow" style="font-size: 20pt">
      Made by <strong>Andrew Wang</strong>
    </h3>
    <h4><a class="rainbow" href="https://dumpyy.gq">https://dumpyy.gq</a></h4>
    <h4>
      <a class="rainbow" href="https://github.com/dumpydev"
        >https://github.com/dumpydev</a
      >
    </h4>
    <span id="fractioninput">
      <input class="input" id="numerator" type="number" placeholder=" " />

      <input class="input" id="numerator2" type="number" placeholder=" " />
      <span style="padding-top: 8cm; padding-bottom: 8cm; width: 60px">
        <hr style="width: 120px" />
      </span>
      <input class="input" id="denominator" type="number" placeholder=" " />
      <input class="input" id="denominator2" type="number" placeholder=" " />
      <span style="padding-top: 20cm"><br /></span>
      <br />
      <button id="calculate" class="custom-btn btn-7" onclick="checkFraction()">
        <span>Calculate!</span>
      </button>
      <hr />
      <h1 id="result" class="rainbow">OUTPUT:</h1>
      <h3 class="rainbow" id="addition"></h3>
      <h3 class="rainbow" id="multiplication"></h3>
      <hr />
      <code class="rainbow">
        To make a pair of ideal fractions, the numerator must be the same and
        both denominators added should equal the numerator, eg. 4/1 and 4/3 are
        ideal.</code
      >
      <p class="rainbow">
        Credits to
        <strong
          ><a class="rainbow" href="https://github.com/LarryBattle/Ratio.js"
            >ratio.js</a
          ></strong
        >
      </p>
    </span>
  </body>
  <script>
    function checkFraction() {
      var a = document.getElementById("numerator").value;
      var b = document.getElementById("denominator").value;
      var c = document.getElementById("numerator2").value;
      var d = document.getElementById("denominator2").value;
      if (((a / b) * c) / d != a / b + c / d) {
        document.getElementById("result").innerHTML =
          "The fractions are not ideal.";
        var addition = Ratio.parse(a / b + c / d)
          .simplify()
          .toString();
        addition = String(addition).split("/");
        addition = improperFractionToMixedNumber(addition[0], addition[1]);
        var multiplication = Ratio.parse(((a / b) * c) / d)
          .simplify()
          .toString();
        multiplication = String(multiplication).split("/");
        multiplication = improperFractionToMixedNumber(
          multiplication[0],
          multiplication[1]
        );
        console.log(addition);
        if (addition[0] <= 0) {
          document.getElementById("addition").innerHTML =
            "Added: " +
            `${addition[0]} <sup>${addition[1]}</sup>&frasl;<sub>${addition[2]}</sub>`;
        } else {
          if (addition[1] <= 0) {
            document.getElementById("addition").innerHTML =
              "Added: " + `${addition[0]}`;
          } else {
            document.getElementById("addition").innerHTML =
              "Added: " +
              `${addition[0]} <sup>${addition[1]}</sup>&frasl;<sub>${addition[2]}</sub>`;
          }
        }
        if (multiplication[0] <= 0) {
          document.getElementById("multiplication").innerHTML =
            "Multiplied: " +
            `<sup>${multiplication[1]}</sup>&frasl;<sub>${multiplication[2]}</sub> `;
        } else {
          if (multiplication[1] <= 0) {
            document.getElementById("multiplication").innerHTML =
              "Multiplied: " + `${multiplication[0]}`;
          } else {
            document.getElementById("multiplication").innerHTML =
              "Multiplied: " +
              `${multiplication[0]} <sup>${multiplication[1]}</sup>&frasl;<sub>${multiplication[2]}</sub>`;
          }
        }
      } else {
        document.getElementById("result").innerHTML =
          "The fractions are Ideal.";
        var addition = Ratio.parse(a / b + c / d)
          .simplify()
          .toString();
        addition = String(addition).split("/");
        addition = improperFractionToMixedNumber(addition[0], addition[1]);
        var multiplication = Ratio.parse(((a / b) * c) / d)
          .simplify()
          .toString();
        multiplication = String(multiplication).split("/");
        multiplication = improperFractionToMixedNumber(
          multiplication[0],
          multiplication[1]
        );
        console.log(addition);
        if (addition[0] <= 0) {
          document.getElementById("addition").innerHTML =
            "Added: " +
            `${addition[0]} <sup>${addition[1]}</sup>&frasl;<sub>${addition[2]}</sub>`;
        } else {
          if (addition[1] <= 0) {
            document.getElementById("addition").innerHTML =
              "Added: " + `${addition[0]}`;
          } else {
            document.getElementById("addition").innerHTML =
              "Added: " +
              `${addition[0]} <sup>${addition[1]}</sup>&frasl;<sub>${addition[2]}</sub>`;
          }
        }
      }
      if (multiplication[0] <= 0) {
        document.getElementById("multiplication").innerHTML =
          "Multiplied: " +
          `<sup>${multiplication[1]}</sup>&frasl;<sub>${multiplication[2]}</sub> `;
      } else {
        if (multiplication[1] <= 0) {
          document.getElementById("multiplication").innerHTML =
            "Multiplied: " + `${multiplication[0]}`;
        } else {
          document.getElementById("multiplication").innerHTML =
            "Multiplied: " +
            `${multiplication[0]} <sup>${multiplication[1]}</sup>&frasl;<sub>${multiplication[2]}</sub>`;
        }
      }
    }
    document.addEventListener("keypress", function (event) {
      if (event.key == "Enter") {
        event.preventDefault();
        document.getElementById("calculate").click();
      }
    });
    function improperFractionToMixedNumber(n, d) {
      i = (n / d) >> 0;

      n -= i * d;

      return [i, n, d];
    }
  </script>
</html>
